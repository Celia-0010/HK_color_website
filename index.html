<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Urban Color Palette Generation Using Google Street View Imagery and Vision-Language Models</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                        'georgia': ['serif'],
                        'roboto': ['Roboto', 'sans-serif']
                    },
                    colors: {
                        'primary': '#111',
                        'secondary': '#555',
                        'muted': '#aaa'
                    }
                }
            }
        }
    </script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 100vw;
        min-height: 100vh;
        box-sizing: border-box;
        overflow-x: hidden;
      }
      
      /* Button interaction styles */
      .weather-btn, .cluster-btn {
        position: relative;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .weather-btn:hover, .cluster-btn:hover {
        transform: translateY(-2px);
        text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        color: #000 !important;
        font-weight: 600;
      }
      
      .weather-btn.active, .cluster-btn.active {
        text-decoration: underline !important;
        text-underline-offset: 4px;
        text-decoration-thickness: 2px;
        text-decoration-color: #000;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .weather-btn.active:hover, .cluster-btn.active:hover {
        transform: translateY(-2px);
        text-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      
      /* 22 GSV colors with rounded corners */
      .color-palette-item {
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
      }
      
      .color-palette-item:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 16px rgba(0,0,0,0.15);
      }
      
      .color-palette-item img {
        border-radius: 6px;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
</head>
<body class="bg-white text-gray-900 font-georgia m-0 p-0">


    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center justify-center relative overflow-hidden bg-white">
        <div class="absolute inset-0 bg-gradient-to-b from-red-200/40 via-yellow-200/40 via-green-200/40 via-blue-200/40 to-white/40 pointer-events-none" style="background: linear-gradient(to bottom, rgba(252, 165, 165, 0.5) 0%, rgba(255, 242, 190, 0.5) 30%, rgba(197, 240, 212, 0.5) 55%, rgba(147, 197, 253, 0.5) 80%, rgba(255, 255, 255, 0.4) 100%);"></div>
        <div class="relative z-10 text-center max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <span class="inline-block bg-gradient-to-r from-red-400  to-blue-400 text-white px-6 py-2 rounded-full text-sm font-medium uppercase tracking-wide shadow-lg font-georgia">
                    Hong Kong
                </span>
            </div>
            <h1 class="font-georgia text-4xl sm:text-5xl lg:text-6xl font-normal text-black mb-8 -mt-8" style="line-height: 1.3;">
                <span class="italic">Automated</span><br>
                <span class="font-semibold">Urban Color Palette Generation</span>
            </h1>
            <p class="font-georgia text-lg sm:text-xl lg:text-2xl text-gray-700 max-w-3xl mx-auto leading-relaxed">
                Using Google Street View Imagery and Vision-Language Models
            </p>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 sm:py-24 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="space-y-16 text-center">
                <p class="text-sm sm:text-base text-gray-700 leading-loose opacity-0 transform translate-y-8 transition-all duration-700" data-animate="about-line">
                    <span class="font-bold text-black">Urban color</span> is a key component in shaping visual perception and identity, <br class="hidden sm:inline">yet it remains insufficiently quantified in large-scale urban analytics.
                </p>
                <p class="text-sm sm:text-base text-gray-700 leading-loose opacity-0 transform translate-y-8 transition-all duration-700" data-animate="about-line">
                    We propose a systematic and scalable framework for generating urban color palettes <br class="hidden sm:inline">by leveraging <span class="font-bold text-black">Google Street View imagery</span> and <span class="font-bold text-black">Vision-Language models</span>.
                </p>
                <p class="text-sm sm:text-base text-gray-700 leading-loose opacity-0 transform translate-y-8 transition-all duration-700" data-animate="about-line">
                    <span class="font-bold text-black">75,852</span> GSV images cross Hong Kong are processed using <span class="font-bold text-black">CLIP</span> for zero-shot weather classification <br class="hidden sm:inline">and <span class="font-bold text-black">Grounded SAM</span> for open-vocabulary semantic segmentation.
                </p>
                <p class="text-sm sm:text-base text-gray-700 leading-loose opacity-0 transform translate-y-8 transition-all duration-700" data-animate="about-line">
                    Our findings reveal distinct <span class="font-bold text-black">spatial patterns</span> in urban color that reflect regional characteristics, <br class="hidden sm:inline">and strong explanatory power of urban color features in <span class="font-bold text-black">housing price prediction</span>.
                </p>
            </div>
        </div>
    </section>

    <!-- Conceptual Framework Section -->
    <section class="py-16 sm:py-24 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-center">
                <img src="conceptual_framework-02.svg" alt="Conceptual Framework" class="w-full md:max-w-[80%] h-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="conceptual-framework">
            </div>
        </div>
    </section>

    <!-- 22 Colors Palette Section -->
    <section id="colors" class="py-16 sm:py-24 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="font-georgia text-2xl sm:text-3xl lg:text-4xl font-normal text-black mb-8 leading-tight">
                    Representative Colors of Hong Kong
                </h2>
                <p class="text-sm sm:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed font-georgia">
                    Combining <span class="font-bold text-black">Incremental K-means clustering</span> in the RGB color space <br class="hidden sm:inline">and <span class="font-bold text-black">Color Difference Formula</span> in the CIELab color space, <br class="hidden sm:inline">we extract 22 representative colors of Hong Kong from all targeted pixels.
                </p>
            </div>
            
            <div class="flex flex-wrap justify-center gap-2 sm:gap-3 lg:gap-4 max-w-5xl mx-auto">
                <!-- Color items will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Weather Switch Section -->
    <section class="py-16 sm:py-24 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-4 gap-2 lg:gap-4 items-center">
                <div class="lg:col-span-1">
                    <h2 class="font-georgia text-lg sm:text-xl lg:text-2xl font-normal text-black mb-8 leading-tight">
                        Urban Color <br>Affected by Weather
                    </h2>
                    <div class="text-xs sm:text-sm text-gray-700 leading-relaxed mb-8 font-georgia">
                        <strong class="text-black"><a href="https://github.com/openai/CLIP" target="_blank" rel="noopener noreferrer" class="text-black underline decoration-2 underline-offset-2">CLIP</a></strong> is used to classify GSV images according to weather conditions.
                        <br><br>
                        On cloudy days, muted-neutral and dark-earthy colors are more dominant, due to diffuse lighting.
                        <br><br>
                        On sunny days, soft-cool and light-vibrant colors are more prominent, enhanced by direct sunlight.
                    </div>
                    <div class="flex space-x-8">
                        <button class="weather-btn active text-base font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-weather="sunny" data-percentage="26%">Sunny</button>
                        <button class="weather-btn text-base font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-weather="cloudy" data-percentage="74%">Cloudy</button>
                    </div>
                </div>
                <div class="lg:col-span-3">
                    <div class="max-w-4xl mx-auto">
                        <img src="two_weather/sunnycolor-01.jpg" alt="Weather Image" id="weather-display-image" class="w-full h-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="weather-image" style="width:97%;height:auto;">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sankey Visualization Section -->
    <section class="py-16 sm:py-24 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-4 gap-2 lg:gap-4 items-center">
                <div class="lg:col-span-1">
                    <h2 class="font-georgia text-lg sm:text-xl lg:text-2xl font-normal text-black mb-8 leading-tight">
                        Urban Color <br>Shaped by Semantics
                    </h2>
                    <p class="text-xs sm:text-sm text-gray-700 leading-relaxed mb-2 font-georgia">
                        <strong class="text-black">
                            <a href="https://github.com/IDEA-Research/Grounded-Segment-Anything" target="_blank" rel="noopener noreferrer" class="text-black underline decoration-2 underline-offset-2">Grounded SAM</a>
                        </strong> is used to segment GSV images into 18 semantic classes.<br>
                        Each pixel of GSV images is assigned a semantic label, representing "what it is," and also assigned a color label, representing "what it looks like." This enables us to identify colors of specific semantics, as well as determine which semantics contribute to the presence of a color.
                    </p>
                    <p class="font-georgia text-sm font-semibold text-black"><strong>Hover or drag to explore →</strong></p>
                </div>
                <div class="lg:col-span-3">
                    <div class="aspect-[1.3/1] w-full">
                        <iframe src="sankey_fullscreen.html" frameborder="0" class="w-full h-full"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Section -->
    <section class="py-16 sm:py-24 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-4 gap-2 lg:gap-4 items-center">
                <div class="lg:col-span-1">
                    <div class="text-xs sm:text-sm text-gray-700 leading-relaxed font-georgia">
                        <p><strong class="text-black">Artificial backgrounds:</strong> low-saturation browns and greys, reflecting differences in material, age, or lighting exposure.</p>
                        <p><strong class="text-black">Natural backgrounds:</strong> light blue or nearly white colors intrinsically from the sky, and green tones intrinsically from vegetation and terrain.</p>
                        <p><strong class="text-black">Static decorations:</strong> greater color diversity with warm accent colors such as reds, oranges, and yellows, intended to attract attentions.</p>
                        <p><strong class="text-black">Dynamic decorations:</strong> the greatest hue variation and highest saturation, reflecting personal choices like clothing and vehicle paint.</p>
                    </div>
                </div>
                <div class="lg:col-span-3">
                    <div class="max-w-3xl mx-auto">
                        <img src="mosaic-02.svg" alt="Research Image" style="width:90%;height:auto;" class="opacity-0 transform translate-y-8 transition-all duration-700 mx-auto" data-animate="mosaic-image">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cluster Visual Section -->
    <section id="clusters" class="py-16 sm:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="font-georgia text-2xl sm:text-3xl lg:text-4xl font-normal text-black mb-8 leading-tight">
                    Spatial Heterogeneity of Urban Color
                </h2>
                <p class="text-sm sm:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed font-georgia">
                    We perform clustering analysis based on the pixel ratios of 22 colors across all images. <br class="hidden sm:inline">Six dominant clusters are identified, demonstrating clear statistical and spatial patterns.
                </p>
            </div>
            
            <!-- Cluster Buttons -->
            <div class="flex flex-wrap justify-center gap-2 sm:gap-4 lg:gap-6 mb-6">
                <button class="cluster-btn active px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_1_map.svg" data-percentage="31.10%">I</button>
                <button class="cluster-btn px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_2_map.svg" data-percentage="25.81%">II</button>
                <button class="cluster-btn px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_3_map.svg" data-percentage="14.93%">III</button>
                <button class="cluster-btn px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_4_map.svg" data-percentage="12.94%">IV</button>
                <button class="cluster-btn px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_5_map.svg" data-percentage="10.29%">V</button>
                <button class="cluster-btn px-2 sm:px-4 py-0.5 sm:py-1 text-lg sm:text-xl font-georgia font-medium text-gray-600 hover:text-black transition-colors relative" data-img="cluster_6_map.svg" data-percentage="4.92%">VI</button>
            </div>
            
            <!-- Cluster Visual Content -->
            <div class="grid lg:grid-cols-3 gap-8 lg:gap-12 items-center">
                <div class="lg:col-span-1 space-y-8">
                    <div class="flex flex-col md:block">
                        <div class="flex items-center gap-4 md:block">
                            <div class="flex flex-col gap-4 md:hidden order-1 md:order-none">
                                <div class="aspect-square bg-gray-200 rounded-lg overflow-hidden w-20 h-20">
                                    <img src="GSVimages/1a.jpg" class="w-full h-full object-cover gsv-img-a" alt="GSV 1a">
                                </div>
                                <div class="aspect-square bg-gray-200 rounded-lg overflow-hidden w-20 h-20">
                                    <img src="GSVimages/1b.jpg" class="w-full h-full object-cover gsv-img-b" alt="GSV 1b">
                                </div>
                            </div>
                            <img src="cluster_bar/cluster_bar_plot_cluster1.svg" alt="Cluster Bar Plot" id="cluster-barplot-img" class="w-[75%] md:w-full h-auto order-2 md:order-none">
                        </div>
                        <div class="hidden md:grid grid-cols-2 gap-4 max-w-xs mx-auto mt-8">
                            <div class="aspect-square bg-gray-200 rounded-lg overflow-hidden">
                                <img src="GSVimages/1a.jpg" class="w-full h-full object-cover gsv-img-a" alt="GSV 1a">
                            </div>
                            <div class="aspect-square bg-gray-200 rounded-lg overflow-hidden">
                                <img src="GSVimages/1b.jpg" class="w-full h-full object-cover gsv-img-b" alt="GSV 1b">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <img src="cluster/cluster_1_map.svg" alt="Cluster Image" id="cluster-image" class="w-full h-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="cluster-map">
                </div>
            </div>
        </div>
    </section>

    <!-- Housing Price Prediction Section -->
    <section id="prediction" class="py-32 sm:py-48 bg-white min-h-[60vh]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-20">
                <h2 class="font-georgia text-2xl sm:text-3xl lg:text-4xl font-normal text-black mb-8 leading-tight">
                    Predicting Housing Prices Using Urban Color Information
                </h2>
                <p class="text-sm sm:text-base text-gray-700 max-w-4xl mx-auto leading-relaxed">
                    To assess the effectiveness of urban color features under controlled lighting conditions, <br class="hidden sm:inline">we conduct a housing price prediction task using only cloudy-day images with random forest regression.
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-12 max-w-4xl mx-auto">
                <div class="text-center p-6 sm:p-8">
                    <p class="text-base sm:text-lg text-gray-700 leading-relaxed prediction-text font-georgia max-w-sm mx-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="prediction-1">
                        Model performance improves as buffer size increases from 200m to 1000m, with <span class="text-2xl font-semibold text-black font-georgia">800m</span> being optimal to capture the relationship.
                    </p>
                </div>
                <div class="text-center p-6 sm:p-8">
                    <p class="text-base sm:text-lg text-gray-700 leading-relaxed prediction-text font-georgia max-w-sm mx-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="prediction-2">
                        The model with color features alone achieves an R² of <span class="text-2xl font-semibold text-black font-georgia">0.5553</span>, outperforming the 0.5059 with semantic features alone.
                    </p>
                </div>
                <div class="text-center p-6 sm:p-8">
                    <p class="text-base sm:text-lg text-gray-700 leading-relaxed prediction-text font-georgia max-w-sm mx-auto opacity-0 transform translate-y-8 transition-all duration-700" data-animate="prediction-3">
                        Adding color features increases the R² of the base model with housing location and accessibility from 0.6085 to <span class="text-2xl font-semibold text-black font-georgia">0.6253</span>.
                    </p>
                </div>
            </div>
    </section>

    <!-- Footer -->
    <section class="py-40 relative overflow-hidden bg-white w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] max-w-none" style="position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw;">
        <div class="absolute inset-0 bg-gradient-to-t from-red-200/40 via-yellow-200/40 via-green-200/40 via-blue-200/40 to-white/40 pointer-events-none" style="background: linear-gradient(to top, rgba(252, 165, 165, 0.4) 0%, rgba(255, 242, 190, 0.4) 30%, rgba(197, 240, 212, 0.4) 55%, rgba(147, 197, 253, 0.4) 80%, rgba(255, 255, 255, 0.4) 100%);"></div>
        <div class="relative z-10 w-full text-center">
            <div class="space-y-12">
                <div class="mt-12 space-y-6">
                    <p class="font-georgia text-sm text-gray-600 leading-relaxed">Student: Li Xiaoyu | Supervisor: Prof. Zhou Yulun</p>
                    <p class="font-georgia text-sm text-gray-600 leading-relaxed">2024-2025 MUA | The University of Hong Kong</p>
                </div>
            </div>
        </div>
    </section>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>